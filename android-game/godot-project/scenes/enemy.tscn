[gd_scene load_steps=7 format=3 uid="uid://enemy_base"]

[ext_resource type="Script" path="res://scripts/Enemy.gd" id="1"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_enemy_body"]
height = 1.6
radius = 0.35

[sub_resource type="CapsuleShape3D" id="CapsuleShape_enemy_collision"]
height = 1.6
radius = 0.35

[sub_resource type="StandardMaterial3D" id="Material_enemy"]
albedo_color = Color(0.8, 0.2, 0.2, 1)

[sub_resource type="SphereShape3D" id="SphereShape_detection"]
radius = 15.0

[sub_resource type="NavigationAgent3D" id="NavigationAgent3D_1"]

[node name="Enemy" type="CharacterBody3D" groups=["enemies"]]
script = ExtResource("1")

[node name="Body" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
mesh = SubResource("CapsuleMesh_enemy_body")
surface_material_override/0 = SubResource("Material_enemy")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
shape = SubResource("CapsuleShape_enemy_collision")

[node name="DetectionArea" type="Area3D" parent="."]

[node name="DetectionShape" type="CollisionShape3D" parent="DetectionArea"]
shape = SubResource("SphereShape_detection")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]

[node name="HealthBar" type="ProgressBar" parent="."]
offset_left = -20.0
offset_top = -30.0
offset_right = 20.0
offset_bottom = -25.0
value = 100.0
show_percentage = false

[node name="AttackTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = false
